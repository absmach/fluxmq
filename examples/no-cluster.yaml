# MQTT Broker - No Clustering Configuration
# Simple single-node broker without clustering enabled
# Data persists to disk using BadgerDB

server:
  tcp:
    plain:
      addr: ":1883"
      max_connections: 10000
      read_timeout: "60s"
      write_timeout: "60s"
    tls: {}
    mtls: {}

  websocket:
    plain: {}
    tls: {}
    mtls: {}

  http:
    plain: {}
    tls: {}
    mtls: {}

  coap:
    plain: {}
    dtls: {}
    mdtls: {}

  shutdown_timeout: "30s"

broker:
  max_message_size: 1048576  # 1MB
  max_retained_messages: 10000
  retry_interval: "20s"
  max_retries: 0  # Infinite retries

session:
  max_sessions: 10000
  default_expiry_interval: 300  # 5 minutes
  max_offline_queue_size: 1000
  max_inflight_messages: 100

storage:
  type: "badger"
  badger_dir: "/tmp/fluxmq/data"

cluster:
  enabled: false
  node_id: "broker-1"

log:
  level: "debug"
  format: "text"
